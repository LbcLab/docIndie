<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Indie Studio: lib/include/vlc/plugins/vlc_picture_pool.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Indie Studio
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5a30104352ef4255dc24354b02eb2d20.html">include</a></li><li class="navelem"><a class="el" href="dir_a3b10635dde76818eec04072e9edc651.html">vlc</a></li><li class="navelem"><a class="el" href="dir_03648b9b03bfb4b80ab44561fe13fe7b.html">plugins</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vlc_picture_pool.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="vlc__picture_8h_source.html">vlc_picture.h</a>&gt;</code><br />
</div>
<p><a href="vlc__picture__pool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7db264f2fbaa4b83664bb62cbaddca95"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a></td></tr>
<tr class="separator:a7db264f2fbaa4b83664bb62cbaddca95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a44202d33b77e0bd09630285c7abf83c3"><td class="memItemLeft" align="right" valign="top">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a44202d33b77e0bd09630285c7abf83c3">picture_pool_NewExtended</a> (const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *) VLC_USED</td></tr>
<tr class="separator:a44202d33b77e0bd09630285c7abf83c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c4eea75a1e18ca4ef4374703b9353d"><td class="memItemLeft" align="right" valign="top">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a08c4eea75a1e18ca4ef4374703b9353d">picture_pool_New</a> (int picture_count, <a class="el" href="structpicture__t.html">picture_t</a> *picture[]) VLC_USED</td></tr>
<tr class="separator:a08c4eea75a1e18ca4ef4374703b9353d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66eeff3244cda21d1c3a4aa7f9cd6815"><td class="memItemLeft" align="right" valign="top">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a66eeff3244cda21d1c3a4aa7f9cd6815">picture_pool_NewFromFormat</a> (const <a class="el" href="structvideo__format__t.html">video_format_t</a> *, int picture_count) VLC_USED</td></tr>
<tr class="separator:a66eeff3244cda21d1c3a4aa7f9cd6815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cb5f307672c82a61b195529e55855a"><td class="memItemLeft" align="right" valign="top">VLC_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a85cb5f307672c82a61b195529e55855a">picture_pool_Delete</a> (<a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *)</td></tr>
<tr class="separator:a85cb5f307672c82a61b195529e55855a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3bd8af44f80246178ef9762709d6034"><td class="memItemLeft" align="right" valign="top">VLC_API <a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#ab3bd8af44f80246178ef9762709d6034">picture_pool_Get</a> (<a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *) VLC_USED</td></tr>
<tr class="separator:ab3bd8af44f80246178ef9762709d6034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e046c9b8e0b5b55fb1e9784d38e6051"><td class="memItemLeft" align="right" valign="top">VLC_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a7e046c9b8e0b5b55fb1e9784d38e6051">picture_pool_NonEmpty</a> (<a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *, bool reset)</td></tr>
<tr class="separator:a7e046c9b8e0b5b55fb1e9784d38e6051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdee5612887e054b53cc917fa265653f"><td class="memItemLeft" align="right" valign="top">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#acdee5612887e054b53cc917fa265653f">picture_pool_Reserve</a> (<a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *, int picture_count) VLC_USED</td></tr>
<tr class="separator:acdee5612887e054b53cc917fa265653f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7349eb65a8993fef5c8b9fd3e031f2c7"><td class="memItemLeft" align="right" valign="top">VLC_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vlc__picture__pool_8h.html#a7349eb65a8993fef5c8b9fd3e031f2c7">picture_pool_GetSize</a> (<a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *)</td></tr>
<tr class="separator:a7349eb65a8993fef5c8b9fd3e031f2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines picture pool structures and functions in vlc </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a7db264f2fbaa4b83664bb62cbaddca95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db264f2fbaa4b83664bb62cbaddca95">&#9670;&nbsp;</a></span>picture_pool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Picture pool handle</p>
<p>XXX it is not thread safe, all pool manipulations and picture_Release must be properly locked if needed. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a85cb5f307672c82a61b195529e55855a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cb5f307672c82a61b195529e55855a">&#9670;&nbsp;</a></span>picture_pool_Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API void picture_pool_Delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It destroys a pool created by picture_pool_New.</p>
<p>All pictures must already be released to the pool. The pool will then released them. </p>

</div>
</div>
<a id="ab3bd8af44f80246178ef9762709d6034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3bd8af44f80246178ef9762709d6034">&#9670;&nbsp;</a></span>picture_pool_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API <a class="el" href="structpicture__t.html">picture_t</a>* picture_pool_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It retreives a <a class="el" href="structpicture__t.html">picture_t</a> from a pool.</p>
<p>The picture must be release by using picture_Release. </p>

</div>
</div>
<a id="a7349eb65a8993fef5c8b9fd3e031f2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7349eb65a8993fef5c8b9fd3e031f2c7">&#9670;&nbsp;</a></span>picture_pool_GetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API int picture_pool_GetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It returns the size of the given pool. </p>

</div>
</div>
<a id="a08c4eea75a1e18ca4ef4374703b9353d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c4eea75a1e18ca4ef4374703b9353d">&#9670;&nbsp;</a></span>picture_pool_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a>* picture_pool_New </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>picture_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td>
          <td class="paramname"><em>picture</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It creates a picture_pool_t wrapping the given arrays of picture.</p>
<p>It is provided as convenience. </p>

</div>
</div>
<a id="a44202d33b77e0bd09630285c7abf83c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44202d33b77e0bd09630285c7abf83c3">&#9670;&nbsp;</a></span>picture_pool_NewExtended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a>* picture_pool_NewExtended </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It creates a picture_pool_t wrapping the given configuration.</p>
<p>It avoids useless picture creations/destructions. The given picture must not have a reference count greater than 1. The pool takes ownership of the picture and MUST not be used directly. When deleted, the pool will release the pictures using picture_Release. If defined, picture_pool_configuration_t::lock will be called before a picture is used, and picture_pool_configuration_t::unlock will be called as soon as a picture is unused. They are allowed to modify <a class="el" href="structpicture__t.html#af31189ca20dbc6790415f499fb90ecd0">picture_t::p</a> and access <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01">picture_t::p_sys</a>. </p>

</div>
</div>
<a id="a66eeff3244cda21d1c3a4aa7f9cd6815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66eeff3244cda21d1c3a4aa7f9cd6815">&#9670;&nbsp;</a></span>picture_pool_NewFromFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a>* picture_pool_NewFromFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvideo__format__t.html">video_format_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>picture_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It creates a picture_pool_t creating images using the given format.</p>
<p>Provided for convenience. </p>

</div>
</div>
<a id="a7e046c9b8e0b5b55fb1e9784d38e6051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e046c9b8e0b5b55fb1e9784d38e6051">&#9670;&nbsp;</a></span>picture_pool_NonEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API void picture_pool_NonEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It forces the next picture_pool_Get to return a picture even if no pictures are free.</p>
<p>If b_reset is true, all pictures will be marked as free.</p>
<p>It does it by releasing itself the oldest used picture if none is available. XXX it should be used with great care, the only reason you may need it is to workaround a bug. </p>

</div>
</div>
<a id="acdee5612887e054b53cc917fa265653f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdee5612887e054b53cc917fa265653f">&#9670;&nbsp;</a></span>picture_pool_Reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLC_API <a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a>* picture_pool_Reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vlc__picture__pool_8h.html#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>picture_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It reserves picture_count pictures from the given pool and returns a new pool with thoses pictures.</p>
<p>The master pool must be full. The returned pool must be deleted before the master pool. When deleted, all pictures return to the master pool. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
